{
  "Type": "CombatActionEvaluator",
  "TargetMemoryDuration": 20,
  "CombatActionEvaluator": {
    "RunConditions": [
      {
        "Type": "TimeSinceLastUsed",
        "Curve": {
          "ResponseCurve": "Linear",
          "XRange": [
            0,
            10
          ]
        }
      },
      {
        "Type": "Randomiser",
        "MinValue": 0.9,
        "MaxValue": 1
      }
    ],
    "AvailableActions": {
      "Default": {
        "Type": "State",
        "Description": "Change to the Default state",
        "State": "Combat",
        "SubState": "Default",
        "PostExecuteDistanceRange": [
          2.25,
          2.25
        ],
        "Target": "Hostile",
        "WeightCoefficient": 1.25,
        "Conditions": [
          {
            "Type": "TargetDistance",
            "Curve": {
              "ResponseCurve": "SimpleDescendingLogistic",
              "XRange": [
                0,
                10
              ]
            }
          },
          {
            "Type": "Randomiser",
            "MinValue": 0.9,
            "MaxValue": 1
          },
          {
            "Type": "TimeSinceLastUsed",
            "Curve": {
              "Type": "Switch",
              "SwitchPoint": 10
            }
          }
        ]
      },
      "SwordBlock": {
        "Type": "Ability",
        "Description": "Block with sword",
        "Target": "Hostile",
        "AbilityType": "Secondary",
        "WeaponSlot": 0,
        "AttackDistanceRange": [
          0,
          5
        ],
        "PostExecuteDistanceRange": [
          2.25,
          2.25
        ],
        "Ability": "Root_NPC_Shield_Block",
        "SubState": "Default",
        "ChargeFor": 1,
        "WeightCoefficient": 1.5,
        "Conditions": [
          {
            "Type": "RecentSustainedDamage",
            "Curve": {
              "ResponseCurve": "InverseExponential",
              "XRange": [
                0,
                6
              ]
            }
          },
          {
            "Type": "Randomiser",
            "MinValue": 0.4,
            "MaxValue": 0.8
          },
          {
            "Type": "TimeSinceLastUsed",
            "Curve": {
              "Type": "Switch",
              "SwitchPoint": 2
            }
          },
          {
            "Type": "OwnStatAbsolute",
            "Stat": "Health",
            "Curve": {
              "Type": "Switch",
              "SwitchPoint": 1000,
              "InitialState": 0,
              "FinalState": 1
            }
          }
        ],
        "InteractionVars": {
          "Shield_Block_Damage": {
            "Interactions": [
              {
                "Parent": "Shield_Block_Damage",
                "Failed": {
                  "Type": "Simple",
                  "Effects": {
                    "Particles": [
                      {
                        "SystemId": "Explosion_Medium"
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      "ShieldAndPylons": {
        "Type": "Ability",
        "Conditions": [
          {
            "Type": "TimeSinceLastUsed",
            "Curve": {
              "Type": "Switch",
              "SwitchPoint": 90
            }
          },
          {
            "Type": "OwnStatAbsolute",
            "Stat": "Health",
            "Curve": {
              "Type": "Switch",
              "SwitchPoint": 4000,
              "InitialState": 1,
              "FinalState": 0
            }
          }
        ],
        "Target": "Hostile",
        "AttackDistanceRange": [
          0,
          25
        ],
        "Ability": {
          "Interactions": [
            {
              "Type": "ApplyEffect",
              "Effects": {
                "WorldSoundEventId": "SFX_Jam_Boss_Shield",
                "Particles": [
                  {
                    "SystemId": "Aura_Sphere",
                    "TargetEntityPart": "Entity",
                    "TargetNodeName": "Torso",
                    "Scale": 3
                  }
                ]
              },
              "EffectId": "Invincible",
              "Entity": "User",
              "RunTime": 0.1
            },
            {
              "Type": "TriggerSpawnMarkers",
              "MarkerType": "Pylon",
              "Range": 30,
              "Effects": {
                "WorldSoundEventId": "SFX_Pylon_Spawn"
              }
            }
          ]
        }
      },
      "Shield": {
        "Type": "Ability",
        "WeightCoefficient": 5,
        "Description": "Shield if multiple pylons are up.",
        "Conditions": [
          {
            "Type": "NearbyCount",
            "Curve": {
              "Type": "Switch",
              "SwitchPoint": 1,
              "FinalState": 1,
              "InitialState": 0
            },
            "Range": 15,
            "NPCGroup": "Dungeon_Mobs"
          },
          {
            "Type": "OwnStatAbsolute",
            "Stat": "Health",
            "Curve": {
              "Type": "Switch",
              "SwitchPoint": 2000,
              "InitialState": 0,
              "FinalState": 1
            }
          }
        ],
        "AttackDistanceRange": [
          0,
          50
        ],
        "Ability": {
          "Interactions": [
            {
              "Type": "ApplyEffect",
              "Effects": {
                "WorldSoundEventId": "SFX_Jam_Boss_Shield",
                "Particles": [
                  {
                    "SystemId": "Aura_Sphere",
                    "TargetEntityPart": "Entity",
                    "TargetNodeName": "Torso",
                    "Scale": 3
                  }
                ]
              },
              "EffectId": "Invincible",
              "Entity": "User",
              "RunTime": 0.1
            }
          ]
        },
        "Target": "Hostile",
        "PostExecuteDistanceRange": [
          2.5,
          3
        ]
      },
      "Slam": {
        "Type": "Ability",
        "Target": "Hostile",
        "Conditions": [
          {
            "Type": "TimeSinceLastUsed",
            "Curve": {
              "XRange": [
                0,
                20
              ],
              "ResponseCurve": "Linear"
            }
          },
          {
            "Type": "TargetDistance",
            "Curve": {
              "ResponseCurve": "ReverseLinear",
              "XRange": [
                0,
                15
              ]
            }
          },
          {
            "Type": "OwnStatAbsolute",
            "Stat": "Health",
            "Curve": {
              "Type": "Switch",
              "SwitchPoint": 2500,
              "InitialState": 0,
              "FinalState": 1
            }
          }
        ],
        "PostExecuteDistanceRange": [
          3,
          3.5
        ],
        "AttackDistanceRange": [
          0,
          6
        ],
        "Ability": {
          "Interactions": [
            {
              "Type": "Simple",
              "Next": {
                "Type": "Simple",
                "Next": {
                  "Type": "Selector",
                  "Effects": {
                    "Particles": [
                      {
                        "SystemId": "Slam_Attack_AoE",
                        "TargetEntityPart": "Entity",
                        "TargetNodeName": "Torso",
                        "PositionOffset": {
                          "Y": 0.2
                        },
                        "Scale": 2
                      }
                    ],
                    "WorldSoundEventId": "SFX_Slam_Impact"
                  },
                  "Selector": {
                    "Id": "AOECylinder",
                    "Range": 12,
                    "Height": 1
                  },
                  "HitEntity": {
                    "Interactions": [
                      {
                        "Type": "Replace",
                        "DefaultOk": true,
                        "Var": "Slam_Damage",
                        "DefaultValue": {
                          "Interactions": [
                            "Jam_Boss_Slam_Damage"
                          ]
                        }
                      }
                    ]
                  }
                },
                "Effects": {
                  "ItemAnimationId": "CastSummonCharged",
                  "ItemPlayerAnimationsId": "Staff",
                  "MovementEffects": {
                    "DisableAll": true
                  },
                  "WorldSoundEventId": "SFX_Slam_Impact"
                },
                "RunTime": 0.25
              },
              "RunTime": 3.0,
              "Effects": {
                "WorldSoundEventId": "SFX_Slam_Buildup",
                "Particles": [
                  {
                    "SystemId": "Slam_AoE",
                    "TargetEntityPart": "Entity",
                    "Scale": 2,
                    "PositionOffset": {
                      "Y": 0.2
                    }
                  }
                ],
                "ItemPlayerAnimationsId": "Staff",
                "ItemAnimationId": "CastSummonCharging",
                "MovementEffects": {
                  "DisableAll": true
                }
              }
            }
          ]
        }
      },
      "PullIn": "CAO_Pull_In",
      "OuterInnerCircles": "CAO_Outer_Inner_Circles",
      "InnerOuterCircles": "CAO_Inner_Outer_Circles"
    },
    "ActionSets": {
      "Default": {
        "BasicAttacks": {
          "Attacks": [
            "Root_Jam_Boss_BasicAttacks"
          ],
          "Randomise": false,
          "UseProjectedDistance": true,
          "MaxRange": 3.4,
          "Timeout": 0.001,
          "CooldownRange": [
            0.001,
            0.001
          ]
        },
        "Actions": [
          "SwordBlock",
          "Slam",
          "PullIn",
          "ShieldAndPylons",
          "Shield",
          "OuterInnerCircles",
          "InnerOuterCircles"
        ]
      }
    },
    "MinActionUtility": 0.75,
    "MinRunUtility": 0.5
  },
  "EntityEffect": "Dont_Hurt_Friends"
}
